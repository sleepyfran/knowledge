<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.133.1"><title>sleepyfran's blog</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://sleepyfran.github.io/blog/><link rel=stylesheet href=https://sleepyfran.github.io/blog/assets/style.css><link rel=stylesheet href=https://sleepyfran.github.io/blog/assets/ruber.css><link rel=apple-touch-icon href=https://sleepyfran.github.io/blog/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://sleepyfran.github.io/blog/img/favicon/ruber.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="sleepyfran's blog"><meta property="og:description" content><meta property="og:url" content="https://sleepyfran.github.io/blog/"><meta property="og:site_name" content="sleepyfran's blog"><meta property="og:image" content="https://sleepyfran.github.io/blog/img/favicon/ruber.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><link href=/blog/index.xml rel=alternate type=application/rss+xml title="sleepyfran's blog"></head><body class=ruber><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=https://sleepyfran.github.io/blog/><div class=logo>sleepyfran's blog</div></a></div></div></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=https://sleepyfran.github.io/blog/posts/fsharp/ce-in-fsharp/>Creating DSLs using F#&rsquo;s Computation Expressions</a></h1><div class=post-meta><span class=post-date>2022-12-17
</span><span class=post-author>:: sleepyfran</span></div><span class=post-tags>#<a href=https://sleepyfran.github.io/blog/tags/fsharp/>fsharp</a>&nbsp;
#<a href=https://sleepyfran.github.io/blog/tags/computation-expressions/>computation expressions</a>&nbsp;</span><div class=post-content>This article is part of the 2022 F# Advent Calendar. Go check out the other awesome posts that are part of it here!
As a user of F# Iâ€™ve been using lots of seq { } and async { } computation expressions, however I never really wrote my own. Lately Iâ€™ve been getting more and more into making DSLs and I found CEs to be an absolutely god-send for this.</div><div><a class="read-more button" href=/blog/posts/fsharp/ce-in-fsharp/>â†’</a></div></div><div class="post on-list"><h1 class=post-title><a href=https://sleepyfran.github.io/blog/posts/swift/formatters/>Swift formatters</a></h1><div class=post-meta><span class=post-date>2022-07-16
</span><span class=post-author>:: sleepyfran</span></div><span class=post-tags>#<a href=https://sleepyfran.github.io/blog/tags/swift/>swift</a>&nbsp;</span><div class=post-content>The easiest way to get a formatted element is to use the formatted method that is available on a myriad of data types without the need to instantiate our own formatter. And the best thing is that all these things are also available directly on SwiftUI controls like Text and TextField by using the format parameter.
Below are the most common/useful ones Iâ€™ve found so far.
Dates In order to get a date formatted, we can simply call formatted on a Date type, which gives us the full, long formatted date:</div><div><a class="read-more button" href=/blog/posts/swift/formatters/>â†’</a></div></div><div class="post on-list"><h1 class=post-title><a href=https://sleepyfran.github.io/blog/posts/swift/coredata/swiftui-grouped-queries/>Grouped queries in SwiftUI</a></h1><div class=post-meta><span class=post-date>2022-07-13
</span><span class=post-author>:: sleepyfran</span></div><span class=post-tags>#<a href=https://sleepyfran.github.io/blog/tags/coredata/>coredata</a>&nbsp;
#<a href=https://sleepyfran.github.io/blog/tags/swiftui/>swiftui</a>&nbsp;
#<a href=https://sleepyfran.github.io/blog/tags/swift/>swift</a>&nbsp;</span><div class=post-content>Querying While developing Maby I needed to retrieve all events that happened, grouped by dates. Now of course I could just slap a FetchRequest and then manually group the results into a dictionary, specially given how easy it is with the grouping init, but it turns out that thereâ€™s a better way.
Since iOS/iPadOS/tvOS 15, macOS 12 and watchOS 8 thereâ€™s a new fetch request in town called SectionedFetchRequest that allows us to specify a type to group by and an entity to group, so for example in my case I could just do the following:</div><div><a class="read-more button" href=/blog/posts/swift/coredata/swiftui-grouped-queries/>â†’</a></div></div><div class="post on-list"><h1 class=post-title><a href=https://sleepyfran.github.io/blog/posts/swift/coredata/unrecognized-selector-objectatindex/>Unrecognized selector <code>objectAtIndex</code></a></h1><div class=post-meta><span class=post-date>2022-06-21
</span><span class=post-author>:: sleepyfran</span></div><span class=post-tags>#<a href=https://sleepyfran.github.io/blog/tags/coredata/>coredata</a>&nbsp;
#<a href=https://sleepyfran.github.io/blog/tags/swiftui/>swiftui</a>&nbsp;
#<a href=https://sleepyfran.github.io/blog/tags/swift/>swift</a>&nbsp;
#<a href=https://sleepyfran.github.io/blog/tags/gotchas/>gotchas</a>&nbsp;</span><div class=post-content>Unrecognized selector objectAtIndex 2022-06-21 22:41:30.447763+0200 App[56115:1179524] -[__NSCFSet objectAtIndex:]: unrecognized selector sent to instance 0x600003df9c20 This happened with the following code, basically when trying to do a ForEach on a property coming from a CoreData model:
import CoreData import SwiftUI struct BudgetView: View { @FetchRequest(entity: CategoryGroup.entity(), sortDescriptors: []) var categoryGroups: FetchedResults&lt;CategoryGroup> var body: some View { VStack { List { ForEach(categoryGroups, id: .id) { group in Text(group.name) ForEach(group.categories, id: .id) { category in Text(category.</div><div><a class="read-more button" href=/blog/posts/swift/coredata/unrecognized-selector-objectatindex/>â†’</a></div></div><div class="post on-list"><h1 class=post-title><a href=https://sleepyfran.github.io/blog/posts/hello-world/>Hello world!</a></h1><div class=post-meta><span class=post-date>2022-06-20
</span><span class=post-author>:: sleepyfran</span></div><div class=post-content><p>Are we live? Mic check, mic check. So I&rsquo;m just starting to re-learn Swift and SwiftUI and since Apple&rsquo;s documentation is lacking to say the least I&rsquo;ve decided to start writing this little blog to keep everything I&rsquo;m finding. The idea is to write short articles straight to the point on how to do X and Y. Sort of like a &ldquo;knowledge graph&rdquo; but without the graph ðŸ™‚</p></div></div><div class=pagination><div class=pagination__buttons></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme based on <a href=https://github.com/panr/hugo-theme-terminal>Terminal</a></span>
<span>:: Code available on <a href=https://github.com/sleepyfran/blog>GitHub</a></span></div></div></footer><script src=https://sleepyfran.github.io/blog/assets/main.js></script><script src=https://sleepyfran.github.io/blog/assets/prism.js></script></div></body></html>