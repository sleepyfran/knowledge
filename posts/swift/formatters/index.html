<!doctype html><html lang=en><head><title>Swift formatters :: sleepyfran's blog</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The easiest way to get a formatted element is to use the formatted method that is available on a myriad of data types without the need to instantiate our own formatter. And the best thing is that all these things are also available directly on SwiftUI controls like Text and TextField by using the format parameter.
Below are the most common/useful ones I&rsquo;ve found so far.
Dates In order to get a date formatted, we can simply call formatted on a Date type, which gives us the full, long formatted date:"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://sleepyfran.github.io/blog/posts/swift/formatters/><link rel=stylesheet href=https://sleepyfran.github.io/blog/assets/style.css><link rel=stylesheet href=https://sleepyfran.github.io/blog/assets/ruber.css><link rel=apple-touch-icon href=https://sleepyfran.github.io/blog/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://sleepyfran.github.io/blog/img/favicon/ruber.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Swift formatters"><meta property="og:description" content="The easiest way to get a formatted element is to use the formatted method that is available on a myriad of data types without the need to instantiate our own formatter. And the best thing is that all these things are also available directly on SwiftUI controls like Text and TextField by using the format parameter.
Below are the most common/useful ones I&rsquo;ve found so far.
Dates In order to get a date formatted, we can simply call formatted on a Date type, which gives us the full, long formatted date:"><meta property="og:url" content="https://sleepyfran.github.io/blog/posts/swift/formatters/"><meta property="og:site_name" content="sleepyfran's blog"><meta property="og:image" content="https://sleepyfran.github.io/blog/"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2022-07-16 15:43:39 +0200 +0200"></head><body class=ruber><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=https://sleepyfran.github.io/blog/><div class=logo>sleepyfran's blog</div></a></div></div></header><div class=content><div class=post><h1 class=post-title><a href=https://sleepyfran.github.io/blog/posts/swift/formatters/>Swift formatters</a></h1><div class=post-meta><span class=post-date>2022-07-16
</span><span class=post-author>:: sleepyfran</span></div><span class=post-tags>#<a href=https://sleepyfran.github.io/blog/tags/swift/>swift</a>&nbsp;</span><div class=post-content><div><p>The easiest way to get a formatted element is to use the <code>formatted</code> method that is available on a myriad of data types without the need to instantiate our own formatter. And the best thing is that all these things are also available directly on SwiftUI controls like <code>Text</code> and <code>TextField</code> by using the <code>format</code> parameter.</p><p>Below are the most common/useful ones I&rsquo;ve found so far.</p><h2 id=dates>Dates<a href=#dates class=hanchor arialabel=Anchor>&#8983;</a></h2><p>In order to get a date formatted, we can simply call <code>formatted</code> on a Date type, which gives us the full, long formatted date:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>Date.now.formatted() <span style=color:#75715e>// &#34;7/16/2022, 1:15 PM&#34;</span>
</span></span></code></pre></div><p>Of course this by itself is not very useful, but we can customize how we want the date to be shown by adding parameters to the function call. If we add <code>.timeDate</code> as a parameter we&rsquo;ll get the same result, but now we can chain calls in a fluent fashion to customize the output, for example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>Date.now.formatted(
</span></span><span style=display:flex><span>    .dateTime.hour().minute()
</span></span><span style=display:flex><span>) <span style=color:#75715e>// &#34;1:15 PM&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Date.now.formatted(
</span></span><span style=display:flex><span>    .dateTime.year().month()
</span></span><span style=display:flex><span>) <span style=color:#75715e>// &#34;Jul 2022&#34;</span>
</span></span></code></pre></div><p>You can also pass parameters to each individual component:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>Date.now.formatted(
</span></span><span style=display:flex><span>    .dateTime.year(.twoDigits).month()
</span></span><span style=display:flex><span>) <span style=color:#75715e>// &#34;Jul 22&#34;</span>
</span></span></code></pre></div><h3 id=relative-dates>Relative dates<a href=#relative-dates class=hanchor arialabel=Anchor>&#8983;</a></h3><p>Using the <code>relative</code> parameter, we can get how long it&rsquo;s been in a relative fashion since a date:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>Date.now.addingTimeInterval(<span style=color:#f92672>-</span><span style=color:#ae81ff>15000</span>).formatted(
</span></span><span style=display:flex><span>    .relative(presentation: .numeric)
</span></span><span style=display:flex><span>) <span style=color:#75715e>// &#34;4 hours ago&#34;</span>
</span></span></code></pre></div><h3 id=date-ranges>Date ranges<a href=#date-ranges class=hanchor arialabel=Anchor>&#8983;</a></h3><p>If you use <code>formatted</code> on a range of dates, you get the duration between the two dates:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> now = Date.now
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> in16Minutes = Date.now.addingTimeInterval(<span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>(now..&lt;in16Minutes).formatted(
</span></span><span style=display:flex><span>    .components(style: .narrow)
</span></span><span style=display:flex><span>) <span style=color:#75715e>// &#34;16min 40sec&#34;</span>
</span></span></code></pre></div><h2 id=currencies>Currencies<a href=#currencies class=hanchor arialabel=Anchor>&#8983;</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#ae81ff>16.40</span>.formatted(.currency(code: <span style=color:#e6db74>&#34;EUR&#34;</span>)) <span style=color:#75715e>// &#34;€16.40&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>25.34</span>.formatted(.currency(code: <span style=color:#e6db74>&#34;USD&#34;</span>)) <span style=color:#75715e>// &#34;$25.34&#34;</span>
</span></span></code></pre></div><p>Sadly for this one it doesn&rsquo;t seem to respect the currency&rsquo;s usual symbol position and instead uses the one specified in the user&rsquo;s location. In my case I have my computer language set to English US which by default positions the symbol in the left side while for Euros the symbol is usually on the right.</p><h2 id=numeric>Numeric<a href=#numeric class=hanchor arialabel=Anchor>&#8983;</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#ae81ff>12.</span>formatted(.number.sign(strategy: .always())) <span style=color:#75715e>// &#34;+12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>12.</span>formatted(.percent) <span style=color:#75715e>// 12%</span>
</span></span></code></pre></div></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://sleepyfran.github.io/blog/posts/fsharp/ce-in-fsharp/><span class=button__icon>←</span>
<span class=button__text>Creating DSLs using F#'s Computation Expressions</span>
</a></span><span class="button next"><a href=https://sleepyfran.github.io/blog/posts/swift/coredata/swiftui-grouped-queries/><span class=button__text>Grouped queries in SwiftUI</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme based on <a href=https://github.com/panr/hugo-theme-terminal>Terminal</a></span>
<span>:: Code available on <a href=https://github.com/sleepyfran/blog>GitHub</a></span></div></div></footer><script src=https://sleepyfran.github.io/blog/assets/main.js></script><script src=https://sleepyfran.github.io/blog/assets/prism.js></script></div></body></html>